(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{141:function(e,t,n){e.exports=n.p+"static/media/alipay-receive-money.a983b729.jpg"},188:function(e,t,n){e.exports=n(433)},193:function(e,t,n){},294:function(e,t,n){var a={"./en-US":48,"./en-US.js":48,"./images/alipay-receive-money.jpg":141,"./images/alipay-red-package.png":61,"./zh-CN":64,"./zh-CN.js":64};function r(e){var t=o(e);return n(t)}function o(e){var t=a[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id=294},295:function(e,t,n){},297:function(e,t,n){},402:function(e,t,n){},41:function(e,t,n){"use strict";t.a={convertIndexToRowColumn:function(e,t){return{col:t%e+1,row:Math.floor(t/e)+1}},is2DArray:function(e){return e[0]instanceof Array},getRowColumnByIndex:function(e,t){return this.is2DArray(e)?this.convertIndexToRowColumn(e[0].length,t):this.convertIndexToRowColumn(Math.sqrt(e.length),t)},findIndexOfMax:function(e){for(var t=0,n=e[0],a=1;a<e.length;a++)e[a]>n&&(n=e[a],t=a);return t},intersects:function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(a=(i=u.next()).done);a=!0){var c=i.value;t.indexOf(c)>=0&&n.push(c)}}catch(s){r=!0,o=s}finally{try{a||null==u.return||u.return()}finally{if(r)throw o}}return n}}},410:function(e,t,n){},412:function(e,t,n){e.exports=n.p+"static/media/crying.993670b8.svg"},415:function(e,t,n){},431:function(e,t,n){e.exports=n.p+"static/media/user.9dc154d2.svg"},433:function(e,t,n){"use strict";n.r(t);var a,r,o=n(1),i=n.n(o),u=n(10),c=n.n(u),s=(n(193),n(195),n(164)),l=n.n(s),h=(n(242),n(165)),f=n.n(h),d=(n(245),n(166)),m=n.n(d),g=(n(136),n(116)),p=n.n(g),y=n(55),v=n(11),b=n(12),k=n(15),w=n(14),C=n(16),E=(n(137),n(65)),O=n.n(E),S=(n(102),n(22)),j=n.n(S),x=(n(103),n(25)),I=n.n(x),N=(n(259),n(167)),B=n.n(N),A=n(49),W=(n(71),n(27)),F=n.n(W),M=n(117),P=(n(265),n(168)),q=n.n(P),T=(n(276),n(169)),z=n.n(T),R=n(48),D=n(64),U=function(){function e(){Object(v.a)(this,e)}return Object(b.a)(e,null,[{key:"setCulture",value:function(e){try{return a=n(294)("./".concat(e)),r="zh-CN"===e?D.default:R.default,[e]}catch(t){return a=n(64),["en-US"]}}},{key:"getInstance",value:function(){return a||e.setCulture("en-US"),a}},{key:"getCurrentCulture",value:function(){return r||R.default}}]),e}(),X={zhCN:["zh-CN"],enUS:["en-US"],getDefault:function(){var e=JSON.parse(localStorage.getItem("settings"));return"zh-CN"===(e&&void 0!==e.language?e.language[0]:navigator&&navigator.language&&"zh-CN"===navigator.language?"zh-CN":"en-US")?(U.setCulture(X.zhCN[0]),X.zhCN):(U.setCulture(X.enUS[0]),X.enUS)}},L=i.a.createContext({culture:{currentCulture:X.getDefault()},changeCulture:function(e){console.log("change to = ",e)}}),_=function(e){function t(){return Object(v.a)(this,t),Object(k.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this,t=[{value:"zh-CN",label:"\u4e2d\u6587"},{value:"en-US",label:"English"}];return i.a.createElement(L.Consumer,null,function(n){var a=n.culture,r=n.changeCulture;return i.a.createElement(z.a,{data:t,onChange:function(t){r(t),"function"===typeof e.props.onChange&&e.props.onChange(t)},cols:1,value:a.currentCulture},i.a.createElement(F.a.Item,{arrow:"horizontal"},U.getInstance().chooseLanguage))})}}]),t}(i.a.Component),V=new Map,H=q.a.CheckboxItem,J={language:["en-US"]},G=Object(M.a)({},J,JSON.parse(localStorage.getItem("settings"))),Y=function(e){function t(){var e,n;Object(v.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(k.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).state=Object(M.a)({},G),n.onChange=function(e){G[e]=!G[e],n.setState(Object(y.a)({},e,G[e])),localStorage.setItem("settings",JSON.stringify(G))},n}return Object(C.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{style:{textAlign:"left"}},i.a.createElement(F.a,{renderHeader:function(){return U.getCurrentCulture().settings}},Object.keys(G).map(function(t){return"boolean"===typeof J[t]?i.a.createElement(H,{key:t,onChange:function(){return e.onChange(t)},checked:e.state[t]},t):"language"===t?i.a.createElement(_,{key:t,onChange:function(t){G.language=t,e.setState({language:t}),localStorage.setItem("settings",JSON.stringify(G))}}):null})),i.a.createElement("div",null,i.a.createElement("div",null,"Icons made by ",i.a.createElement("a",{href:"https://www.freepik.com/",title:"Freepik",rel:"noopener noreferrer"},"Freepik")," from ",i.a.createElement("a",{href:"https://www.flaticon.com/",title:"Flaticon",rel:"noopener noreferrer",target:"_blank"},"www.flaticon.com")," is licensed by ",i.a.createElement("a",{href:"http://creativecommons.org/licenses/by/3.0/",title:"Creative Commons BY 3.0",target:"_blank",rel:"noopener noreferrer"},"CC 3.0 BY")),i.a.createElement("div",null,"Icons made by ",i.a.createElement("a",{href:"https://www.flaticon.com/authors/smashicons",title:"Smashicons"},"Smashicons")," from ",i.a.createElement("a",{href:"https://www.flaticon.com/",rel:"noopener noreferrer",title:"Flaticon"},"www.flaticon.com")," is licensed by ",i.a.createElement("a",{href:"http://creativecommons.org/licenses/by/3.0/",title:"Creative Commons BY 3.0",target:"_blank",rel:"noopener noreferrer"},"CC 3.0 BY"))))}}]),t}(i.a.Component);function K(e){return i.a.createElement("button",{className:"square",onClick:e.onClick,title:JSON.stringify(V.get(e.index)),disabled:e.disabled},e.highlight?i.a.createElement("strong",{style:{color:"red"}},e.value):i.a.createElement("span",null,e.value))}n(295);var Q=function(e){function t(){return Object(v.a)(this,t),Object(k.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(b.a)(t,[{key:"renderSquare",value:function(e){var t=this;return i.a.createElement(K,{value:this.props.squares[e],onClick:function(){return t.props.onClick(e)},key:e,index:e,highlight:!!this.props.winner&&this.props.winner.where.indexOf(e)>=0,disabled:this.props.disabled})}},{key:"renderBoardRow",value:function(e,t){for(var n=[],a=0;a<e;a++)n.push(this.renderSquare(t*e+a));return n}},{key:"renderBoard",value:function(){for(var e=Math.sqrt(this.props.squares.length),t=[],n=0;n<e;n++)t.push(i.a.createElement("div",{className:"board-row",key:n},this.renderBoardRow(e,n)));return t}},{key:"render",value:function(){return i.a.createElement("div",{style:{display:"inline-block",minWidth:"247px"}},this.renderBoard())}}]),t}(i.a.Component),Z={humanVsComputer:"humanVsComputer",computerVsComputer:"computerVsComputer"},$=n(185),ee=n(41),te={top:[0,1,2],left:[0,3,6],right:[2,5,8],bottom:[6,7,8],center:[3,4,5],middle:[1,4,7],slash:[2,4,6],antiSlash:[0,4,8]},ne=[te.top,te.center,te.bottom,te.left,te.middle,te.right,te.slash,te.antiSlash];var ae,re,oe=[0,1,1],ie=function(e){return{const:e[0],danger:e[1],occupyCenter:e[2]}},ue=function(){function e(){Object(v.a)(this,e)}return Object(b.a)(e,null,[{key:"setInitialWeights",value:function(e){oe=e}},{key:"setNamedStrategy",value:function(e){ie=e}}]),e}(),ce=function(){function e(){Object(v.a)(this,e)}return Object(b.a)(e,null,[{key:"getInitialWeights",value:function(){return oe}},{key:"getNamedStrategy",value:function(e){return ie(e)}},{key:"getBoardStatus",value:function(t){var n=function(e){for(var t=0,n=0,a=0,r=0,o=function(o){var i=e.filter(function(e,t){return ne[o].indexOf(t)>=0}),u=i.filter(function(e){return-1===e}),c=i.filter(function(e){return 0===e}),s=i.filter(function(e){return 1===e});2===u.length&&1===c.length&&t++,3===u.length&&n++,3===s.length&&a++,2===s.length&&1===c.length&&r++},i=0;i<ne.length;i++)o(i);return{danger:t,lost:n,chance:r,win:a}}(t),a=n.danger,r=n.lost,o=n.chance,i=n.win;return{danger:a,lost:r,chance:o,win:i,factors:Object.keys(ie(e.getInitialWeights())).map(function(n){return{const:1,danger:1.1*a,occupyCenter:1===t[4]?1:0,intersectedBads:e.getIntersectedBads(t)/2,chance:o,numberOfBadsOfMyChance:e.getNumberOfBadsOfMyChancePosition(t)}[n]})}}},{key:"getIntersectedBads",value:function(e){for(var t=0,n=[],a=function(t){var a=e.filter(function(e,n){return ne[t].indexOf(n)>=0}),r=Object($.a)(a,3),o=r[0],i=r[1],u=r[2];(-1===o&&0===i&&0===u||0===o&&-1===i&&0===u||0===o&&0===i&&-1===u||-1===o&&-1===i&&0===u||-1===o&&0===i&&-1===u||0===o&&-1===i&&-1===u)&&n.push(ne[t])},r=0;r<ne.length;r++)a(r);if(n.length<=1)return 0;for(r=0;r<n.length-1;r++)for(var o=r+1;o<n.length;o++){var i=n[r],u=n[o],c=ee.a.intersects(i,u);c.length>0&&(0===e[c[0]]||-1===e[c[0]])&&t++}return t}},{key:"getNumberOfBadsOfMyChancePosition",value:function(e){for(var t=0,n=function(n){var a=e.filter(function(e,t){return ne[n].indexOf(t)>=0}),r=a.filter(function(e){return 0===e});if(2===a.filter(function(e){return 1===e}).length&&1===r.length){var o=ne[n].filter(function(t){return 0===e[t]})[0];if(void 0!==o){var i=ne.filter(function(e){return e.indexOf(o)>=0}),u=!0,c=!1,s=void 0;try{for(var l,h=function(){var n=l.value,a=e.filter(function(e,t){return n.indexOf(t)>=0}),r=a.filter(function(e){return-1===e}).length,o=a.filter(function(e){return 1===e}).length;r>0&&0===o&&t++},f=i[Symbol.iterator]();!(u=(l=f.next()).done);u=!0)h()}catch(d){c=!0,s=d}finally{try{u||null==f.return||f.return()}finally{if(c)throw s}}}}},a=0;a<ne.length;a++)n(a);return t}}]),e}(),se={top:[0,1,2],left:[0,3,6],right:[2,5,8],bottom:[6,7,8],center:[3,4,5],middle:[1,4,7],slash:[2,4,6],antiSlash:[0,4,8]},le=[se.top,se.center,se.bottom,se.left,se.middle,se.right,se.slash,se.antiSlash],he={getBoardScore:function(e,t){t=t||ce.getInitialWeights();var n=ce.getBoardStatus(e),a=n.lost,r=n.win,o=n.factors;if(a)return{factors:o,namedFactors:ce.getNamedStrategy(o),total:-Math.PI/2};if(r)return{factors:o,namedFactors:ce.getNamedStrategy(o),total:Math.PI/2};var i=Math.atan(o.map(function(e,n){return e*t[n]}).reduce(function(e,t){return e+t},0));return{factors:o,namedFactors:ce.getNamedStrategy(o),total:i}},getSpots:function(e){return e.map(function(e,t){return 0===e?t:NaN}).filter(function(e){return!isNaN(e)})},generateNewBoardsBySpots:function(e,t){return(t=t||this.getSpots(e)).map(function(t){var n=e.slice();return n[t]=1,n})},gameProgress:function(e){var t=e.filter(function(e){return 0===e});if(t.length===e.length)return{win:!1,lost:!1,fair:!1};for(var n=function(t){var n=e.filter(function(e,n){return le[t].indexOf(n)>=0}),a=n.filter(function(e){return 1===e}),r=n.filter(function(e){return-1===e});return 3===a.length?{v:{win:le[t],lost:!1,fair:!1}}:3===r.length?{v:{win:!1,lost:le[t],fair:!1}}:void 0},a=0;a<le.length;a++){var r=n(a);if("object"===typeof r)return r.v}return{win:!1,lost:!1,fair:0===t.length}},gameEnds:function(e){return e.fair||e.win||e.lost}},fe=[0,1,1,1,1,1,1,1,1],de=new(function(){function e(){Object(v.a)(this,e),this.weights=fe}return Object(b.a)(e,[{key:"nextMove",value:function(t){return e.nextMove(t,this.weights)}}],[{key:"nextMove",value:function(e,t){var n=he.getSpots(e);return n[Math.round((n.length-1)*Math.random())]}}]),e}()),me=function(){function e(t){Object(v.a)(this,e),this.me=t}return Object(b.a)(e,[{key:"nextMove",value:function(e,t,n){var a=e.map(function(e){return"X"===e?1:"O"===e?-1:0});t.handleClick(de.nextMove(a),n)}},{key:"getWeights",value:function(){return[]}},{key:"getLearningEnabled",value:function(){return!1}},{key:"setWeightsUpdatedCallback",value:function(){}},{key:"clean",value:function(){}}]),e}(),ge=null,pe=function(){function e(){Object(v.a)(this,e),this.weights=Object.assign([],ce.getInitialWeights()),this.setWeightsUpdatedCallback(function(){})}return Object(b.a)(e,[{key:"setWeightsUpdatedCallback",value:function(e){this.weightsUpdatedCallback=e}},{key:"nextMove",value:function(t,n){return this.tryLearn(t),e.nextMove(t,this.weights,n)}},{key:"tryLearn",value:function(e){this.learn(this.lastBitmapSquares,e),this.lastBitmapSquares=e}},{key:"clean",value:function(){ge=null}},{key:"getWeights",value:function(){return this.weights}},{key:"getFactors",value:function(){return ge}},{key:"setWeights",value:function(e){this.weights=e}},{key:"learn",value:function(e,t){if(e&&G.learn){for(var n=he.getBoardScore(e,this.weights),a=he.getBoardScore(t,this.weights).total-n.total,r=0;r<n.factors.length;r++)this.weights[r]=this.weights[r]+.1*a*n.factors[r];this.weightsUpdatedCallback(this.weights)}}}],[{key:"nextMove",value:function(e,t,n){V.clear();for(var a=he.getSpots(e),r=he.generateNewBoardsBySpots(e,a).map(function(e){return he.getBoardScore(e,t).total}),o=0;o<a.length;o++){var i=a[o],u=r[o];V.set(i,{weights:t,strategy:ce.getBoardStatus(e).factors,score:u})}var c=ee.a.findIndexOfMax(r);return ge=r[c].namedFactors,a[c]}}]),e}(),ye=function(){function e(t,n){Object(v.a)(this,e),this.me=t,this.enemy=n,this.expert=new pe}return Object(b.a)(e,[{key:"nextMove",value:function(e,t,n){var a=this.convertSquaresToBitmap(e),r=this.expert.nextMove(a,!t.state.xIsNext);t.handleClick(r,n)}},{key:"convertSquaresToBitmap",value:function(e){var t=this;return e.map(function(e){return e===t.enemy?-1:e===t.me?1:0})}},{key:"getWeights",value:function(){return this.expert.getWeights()}},{key:"getFactors",value:function(){return this.expert.getFactors()}},{key:"setWeightsUpdatedCallback",value:function(e){this.expert.setWeightsUpdatedCallback(e)}},{key:"tryLearn",value:function(e){this.expert.tryLearn(this.convertSquaresToBitmap(e))}},{key:"clean",value:function(){this.expert.clean()}}]),e}(),ve=n(438),be=(n(297),{XWin:0,OWin:0,Fair:0}),ke=function(e){function t(){return Object(v.a)(this,t),Object(k.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(b.a)(t,[{key:"getTotal",value:function(){return be.XWin+be.OWin+be.Fair}},{key:"getXWinPercent",value:function(){return 0===this.getTotal()?0:be.XWin/this.getTotal()}},{key:"getOWinPercent",value:function(){return 0===this.getTotal()?0:be.OWin/this.getTotal()}},{key:"getFairPercent",value:function(){return 0===this.getTotal()?0:be.Fair/this.getTotal()}},{key:"render",value:function(){var e=[{key:"#",XWin:be.XWin,OWin:be.OWin,draw:be.Fair,subtotal:this.getTotal()},{key:"%",XWin:100*this.getXWinPercent().toFixed(2)+"%",OWin:100*this.getOWinPercent().toFixed(2)+"%",draw:100*this.getFairPercent().toFixed(2)+"%",subtotal:"100%"}],t=[{title:this.props.round,dataIndex:"key",key:"key"},{title:i.a.createElement("div",null,"\u4f60 (X) ",i.a.createElement("br",null),U.getInstance().wins),dataIndex:"XWin",key:"XWin"},{title:i.a.createElement("div",null,"\u7535\u8111 (O) ",i.a.createElement("br",null),U.getInstance().wins),dataIndex:"OWin",key:"OWin"},{title:U.getInstance().fair,dataIndex:"draw",key:"draw"},{title:U.getInstance().total,dataIndex:"subtotal",key:"subtotal"}];return i.a.createElement(ve.a,{dataSource:e,columns:t,pagination:!1})}}],[{key:"updateRoundResult",value:function(e){"X"!==e?"O"!==e?be.Fair=be.Fair+1:be.OWin=be.OWin+1:be.XWin=be.XWin+1}}]),t}(i.a.Component),we=function(e){function t(e){var n;return Object(v.a)(this,t),(n=Object(k.a)(this,Object(w.a)(t).call(this))).state={selected:e.mode,autoStart:e.autoStart},n}return Object(C.a)(t,e),Object(b.a)(t,[{key:"selectMode",value:function(e){this.setState({selected:Z[e]}),this.notifyWorld()}},{key:"checkAutoStart",value:function(){this.setState({autoStart:!0}),this.notifyWorld()}},{key:"notifyWorld",value:function(){var e=this;setTimeout(function(){e.props.optionChanged(e.state.selected,e.state.autoStart)})}},{key:"toggleAutoStart",value:function(){this.setState({autoStart:!this.state.autoStart}),this.notifyWorld()}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,Object.keys(Z).map(function(t){return i.a.createElement("p",{key:t},i.a.createElement("button",{disabled:e.props.readonly,onClick:function(){return e.selectMode(t)}},e.state.selected===Z[t]?i.a.createElement("strong",null,U.getInstance()[Z[t]]):i.a.createElement("span",null,U.getInstance()[Z[t]])))}),i.a.createElement("p",null,i.a.createElement("input",{id:"auto-start",type:"checkbox",onChange:function(){return e.toggleAutoStart()},checked:this.state.autoStart}),i.a.createElement("label",{htmlFor:"auto-start"},U.getInstance().autoStart)))}}]),t}(i.a.Component),Ce=n(8),Ee=n.n(Ce),Oe=(n(402),function(e){function t(){return Object(v.a)(this,t),Object(k.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return G.showLearningStatus?i.a.createElement(j.a,{wrap:"wrap"},i.a.createElement("div",null,this.props.state.OWeights.map(function(e){return e.toFixed(2)}).join(", ")),i.a.createElement("div",{style:{wordBreak:"break-word"}},JSON.stringify(this.props.state.strategy))):null}}]),t}(i.a.Component)),Se=(n(404),n(181)),je=n.n(Se),xe=(n(410),function(e){function t(){var e,n;Object(v.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(k.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).state={showRedPackageModal:!1},n.comfortPlayer=function(){n.setState({showRedPackageModal:!0})},n.onClose=function(){n.setState({showRedPackageModal:!1})},n}return Object(C.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement(je.a,{visible:this.state.showRedPackageModal,transparent:!0,maskClosable:!1,title:"\u62ff\u7ea2\u5305\u6765\u62ef\u6551\u4f60",footer:[{text:"\u9886\u8fc7\u4e86\uff0c\u5f00\u5fc3\u591a\u5566\uff01",onPress:function(){e.onClose()}}]},i.a.createElement("img",{src:n(61),alt:"\u652f\u4ed8\u5b9d\u7ea2\u5305",style:{maxWidth:"100%"}})),"X"===this.props.winnerInfo.who&&i.a.createElement(j.a,null,i.a.createElement(j.a.Item,null,i.a.createElement(O.a,null,"\u7adf\u7136\u8d62\u4e86\uff0c\u4e0d\u53ef\u601d\u8bae\uff01"))),"O"===this.props.winnerInfo.who&&i.a.createElement(j.a,null,i.a.createElement(j.a.Item,null,i.a.createElement(O.a,{icon:i.a.createElement("img",{src:n(412),alt:""}),onClick:this.comfortPlayer},"\u8f93\u6389\u4e86\uff0c\u4e0d\u5f00\u5fc3\u3002"))))}}]),t}(i.a.Component));ue.setInitialWeights([0,-2,-1,1,1.5,-1]),ue.setNamedStrategy(function(e){return{const:e[0],danger:e[1],intersectedBads:e[2],chance:e[3],occupyCenter:e[4],numberOfBadsOfMyChance:e[5]}});var Ie=function(e){function t(e){var n;Object(v.a)(this,t),n=Object(k.a)(this,Object(w.a)(t).call(this,e)),ae=new me("X"),re=new ye("O","X");var a=Array(9).fill(null);return n.state={history:[{squares:a,squareIndex:null}],xIsNext:!0,stepNumber:0,currentMode:Z.humanVsComputer,autoStart:!1,OWeights:Object.assign([],re.getWeights()),strategy:ce.getNamedStrategy(ce.getBoardStatus(new ye("O","X").convertSquaresToBitmap(a)).factors),winnerInfo:null,round:1,countDown:0,disabled:!1},n.optionChanged=n.optionChanged.bind(Object(A.a)(Object(A.a)(n))),n.changeCountdownNumber=n.changeCountdownNumber.bind(Object(A.a)(Object(A.a)(n))),n}return Object(C.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){re.setWeightsUpdatedCallback(this.weightsUpdated.bind(this)),ae.setWeightsUpdatedCallback(this.weightsUpdated.bind(this))}},{key:"changeCountdownNumber",value:function(e){this.setState({countDown:e.target.value})}},{key:"handleClick",value:function(e,t){var n=this,a=this.state.history.slice(0,this.state.stepNumber+1),r=a[a.length-1].squares.slice();this.notifyGameOverIfEnds(r)?this.setState({disabled:!0}):r[e]||this.placeAt(r,e,a,function(){n.setState({strategy:ce.getNamedStrategy(ce.getBoardStatus(new ye("O","X").convertSquaresToBitmap(n.state.history[n.state.history.length-1].squares)).factors)}),n.notifyGameOverIfEnds(n.state.history[n.state.stepNumber].squares)||(n.state.autoPlaying||setTimeout(function(){if(!n.state.xIsNext)return n.setState({disabled:!0}),void setTimeout(function(){re.nextMove(n.state.history[n.state.stepNumber].squares,n),n.setState({disabled:!1})},600);n.state.xIsNext&&n.state.currentMode===Z.computerVsComputer&&ae.nextMove(n.state.history[n.state.stepNumber].squares,n)},10),"function"===typeof t&&t())})}},{key:"notifyGameOverIfEnds",value:function(e){var t=he.gameProgress(re.convertSquaresToBitmap(e));return!!he.gameEnds(t)&&(this.gameEnds({who:t.lost?"X":t.win?"O":null,where:t.lost||t.win||[]}),!0)}},{key:"placeAt",value:function(e,t,n,a){e[t]||(e[t]=this.state.xIsNext?"X":"O",this.setState({history:n.concat([{squares:e,squareIndex:t}]),stepNumber:n.length,xIsNext:!this.state.xIsNext},a))}},{key:"jumpTo",value:function(e,t){var n=this;this.setState({stepNumber:e,xIsNext:e%2===0,winnerInfo:0===e?null:this.state.winnerInfo,disabled:0!==e&&this.state.disabled},function(){n.autoStart(n.state.currentMode,n.state.autoStart),"function"===typeof t&&t()})}},{key:"optionChanged",value:function(e,t){var n=this;this.setState({currentMode:e,autoStart:t},function(){n.autoStart(e,t)})}},{key:"autoStart",value:function(e,t){var n=this;e===Z.computerVsComputer&&t&&0===this.state.stepNumber&&this.setState({endsAt:void 0},function(){ae.nextMove(n.state.history[n.state.stepNumber].squares,n)})}},{key:"learn",value:function(){this.setState({countDown:this.state.countDown-1}),this.gameOptions.checkAutoStart(!0),this.gameOptions.selectMode("computerVsComputer"),this.state.stepNumber>0&&this.jumpTo(0)}},{key:"weightsUpdated",value:function(e){this.setState({OWeights:Object.assign([],re.getWeights())})}},{key:"gameEnds",value:function(e){var t=this;re.tryLearn(this.state.history[this.state.stepNumber].squares),re.clean(),ke.updateRoundResult(e?e.who:null),this.setState({winnerInfo:e,round:this.state.round+1,endsAt:this.state.stepNumber},function(){t.state.countDown>0?t.setState({countDown:t.state.countDown-1},function(){t.jumpTo(0)}):t.setState({autoPlaying:!1})})}},{key:"render",value:function(){var e,t=this,n=this.state.history[this.state.stepNumber],a=this.state.winnerInfo?this.state.winnerInfo.who:null;return e=a?U.getInstance().winner+a:this.state.winnerInfo?"\u548c\u68cb\uff01":U.getInstance().getNextPlayer(this.state.xIsNext,this.state.stepNumber),i.a.createElement("div",{className:"flex-container",style:{minWidth:"300px"}},this.state.stepNumber>0&&i.a.createElement(B.a,{percent:this.state.disabled?0:100,position:"fixed"}),i.a.createElement(I.a,{size:"lg"}),i.a.createElement(Oe,{state:this.state}),i.a.createElement(I.a,{size:"lg"}),i.a.createElement(j.a,null,i.a.createElement(j.a.Item,{style:{textAlign:"center"}},i.a.createElement("div",{style:{height:"50px"},className:Ee()({win:this.state.winnerInfo,progress:!this.state.winnerInfo})},e))),i.a.createElement(I.a,{size:"lg"}),i.a.createElement(I.a,{size:"lg"}),i.a.createElement(j.a,null,i.a.createElement(j.a.Item,{style:{textAlign:"center"}},i.a.createElement(Q,{squares:n.squares,disabled:this.state.disabled,onClick:function(e){return t.state.currentMode!==Z.computerVsComputer&&t.handleClick(e)},winner:this.state.winnerInfo}))),i.a.createElement(I.a,{size:"lg"}),i.a.createElement(j.a,null,i.a.createElement(j.a.Item,null,i.a.createElement(O.a,{style:{visibility:null!==this.state.winnerInfo?"visible":"hidden"},icon:i.a.createElement("img",{src:"https://gw.alipayobjects.com/zos/rmsportal/jBfVSpDwPbitsABtDDlB.svg",alt:""}),onClick:function(){return t.jumpTo(0)}},"\u518d\u6765\u4e00\u5c40\uff01"))),i.a.createElement(I.a,{size:"lg"}),i.a.createElement(xe,{winnerInfo:this.state.winnerInfo||{}}),i.a.createElement(I.a,{size:"lg"}),i.a.createElement(I.a,{size:"lg"}),i.a.createElement(I.a,{size:"lg"}),i.a.createElement(I.a,{size:"lg"}),i.a.createElement(j.a,null,i.a.createElement(j.a.Item,{style:{textAlign:"center"}},i.a.createElement(ke,{round:this.state.round}))),i.a.createElement(I.a,{size:"lg"}),i.a.createElement(j.a,{style:{display:"none"}},i.a.createElement(j.a.Item,null,i.a.createElement("p",null,U.getInstance().autoPlay," ",i.a.createElement("input",{type:"number",onChange:this.changeCountdownNumber,id:"turns",value:this.state.countDown})," ",U.getInstance().round,"\xa0\xa0\xa0\xa0",i.a.createElement("button",{id:"start-auto-button",onClick:function(){return t.learn()}},U.getInstance().startLearning))),i.a.createElement(j.a.Item,null,i.a.createElement(we,{readonly:this.state.stepNumber,optionChanged:this.optionChanged,autoStart:this.state.autoStart,mode:this.state.currentMode,ref:function(e){return t.gameOptions=e}}))))}},{key:"move",value:function(e,t){return this.state.xIsNext?ae.nextMove(e,this,t):re.nextMove(e,this,t)}},{key:"autoPlay",value:function(){var e=this;this.setState({autoPlaying:!0},function(){var t=e.state.history[e.state.stepNumber].squares,n=he.gameProgress(re.convertSquaresToBitmap(t));he.gameEnds(n)?(e.gameEnds({who:n.win?"O":n.lost?"X":null,where:n.win||n.lost||[]}),e.setState({autoPlaying:!1})):e.move(t,e.autoPlay.bind(e))})}}]),t}(i.a.Component),Ne=n(437),Be={width:"100%",display:"inline-block"},Ae=function(e){var t=e.onClicked;return i.a.createElement(F.a,null,i.a.createElement(F.a.Item,{key:"0",multipleLine:!0},i.a.createElement(Ne.a,{to:"/",onClick:t,style:Be},U.getCurrentCulture().homepage)),i.a.createElement(F.a.Item,{key:"1",multipleLine:!0},i.a.createElement(Ne.a,{to:"/settings",onClick:t,style:Be},U.getCurrentCulture().settings)),i.a.createElement(F.a.Item,{key:"7",multipleLine:!0},i.a.createElement("a",{href:"https://view.officeapps.live.com/op/view.aspx?src=https%3A%2F%2Ftictactoe.js.org%2F%E5%B0%86%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E5%BA%94%E7%94%A8%E4%BA%8E%E6%A3%8B%E7%B1%BB%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91%E4%B8%AD%E7%9A%84%E4%B8%80%E8%88%AC%E6%AD%A5%E9%AA%A4.docx",rel:"noopener noreferrer",target:"_blank"},U.getCurrentCulture().how)),i.a.createElement(F.a.Item,{key:"2",thumb:i.a.createElement("svg",{height:"32",className:"octicon octicon-mark-github",viewBox:"0 0 16 16",version:"1.1",width:"32","aria-hidden":"true"},i.a.createElement("path",{fillRule:"evenodd",d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"})),multipleLine:!0},i.a.createElement("a",{onClick:t,href:"https://github.com/Jeff-Tian/tic-tac-toe-ai",rel:"noopener noreferrer",target:"_blank",style:Be},U.getCurrentCulture().source)),i.a.createElement(F.a.Item,{key:"6",thumb:"https://id3.js.org/favicon.ico",multipleLine:!0},i.a.createElement("a",{onClick:t,href:"https://id3.js.org",rel:"noopener noreferrer",target:"_blank"},"id3")),i.a.createElement(F.a.Item,{key:"3",thumb:"https://gitmoji.js.org/static/favicon-32x32.png",multipleLine:!0},i.a.createElement("a",{onClick:t,href:"https://gitmoji.js.org",rel:"noopener noreferrer",target:"_blank"},"gitmoji")),i.a.createElement(F.a.Item,{key:"4",thumb:n(61)},i.a.createElement(Ne.a,{to:"/alipay-red-package",onClick:t,style:Be},U.getCurrentCulture().getRedPackage)),i.a.createElement(F.a.Item,{key:"5",thumb:n(61)},i.a.createElement(Ne.a,{to:"/support-author",onClick:t,style:Be},U.getCurrentCulture().supportAuthor)))},We=(n(415),n(439)),Fe=n(440),Me=function(e){function t(){return Object(v.a)(this,t),Object(k.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{onClick:t.tryToLoadAlipay},i.a.createElement(I.a,{size:"lg"}),i.a.createElement("img",{src:n(61),alt:"\u652f\u4ed8\u5b9d\u7ea2\u5305",style:{maxWidth:"100%"}}))}}],[{key:"tryToLoadAlipay",value:function(){window.location.replace("alipayqr://platformapi/startapp?saId=10000007&qrcode=https%3A%2F%2Fjeff-tian.github.io%2Ftic-tac-toe-ai%2Fstatic%2Fmedia%2Falipay-red-package.5cd76bdb.png")}}]),t}(i.a.Component),Pe=function(e){function t(){return Object(v.a)(this,t),Object(k.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{onClick:t.tryToLoadAlipay},i.a.createElement(I.a,{size:"lg"}),i.a.createElement("img",{src:n(141),alt:"\u652f\u4ed8\u5b9d\u4ed8\u6b3e",style:{maxWidth:"100%"}}))}}],[{key:"tryToLoadAlipay",value:function(){window.location.replace("alipayqr://platformapi/startapp?saId=10000007&qrcode=https%3A%2F%2Fraw.githubusercontent.com%2FJeff-Tian%2Ftic-tac-toe-ai%2Fmaster%2Fpublic%2Fimages%2Falipay-receive-money.jpg")}}]),t}(i.a.Component),qe=n(122),Te=n.n(qe),ze=n(182);var Re=new(n(183).UserAgentApplication)("bacb8d3b-6ee0-4443-9bea-b54485a5a20d",null,function(e,t,n,a){t?console.log("token = ",t):console.error(n+": "+e)}),De=function(e){function t(e){var n;Object(v.a)(this,t),n=Object(k.a)(this,Object(w.a)(t).call(this,e));var a=window.location.hash;return a.startsWith("#id_token=")&&window.localStorage.setItem("token",a.replace("#id_token=","")),n}return Object(C.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){var e=Object(ze.a)(Te.a.mark(function e(){var t,n,a,r,o,i;return Te.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.localStorage.getItem("token"),e.next=3,Re.acquireTokenSilent(["user.read","mail.send"]);case 3:if(n=e.sent,console.log("res = ",n),!t){e.next=19;break}return a=new Headers,r="Bearer "+t,a.append("Authorization",r),o={method:"GET",headers:a},"https://graph.microsoft.com/v1.0/me",e.next=13,fetch("https://graph.microsoft.com/v1.0/me",o);case 13:return i=e.sent,e.t0=console,e.next=17,i.text();case 17:e.t1=e.sent,e.t0.log.call(e.t0,e.t1);case 19:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return i.a.createElement("div",null,"Hello")}}]),t}(i.a.Component),Ue=function(e){function t(){var e,n;Object(v.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(k.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).changeCulture=function(e){n.setState({culture:{currentCulture:U.setCulture(e[0])}}),console.log(e)},n.state={docked:!1,culture:{currentCulture:X.getDefault()},changeCulture:n.changeCulture},n.onDock=function(e){n.setState(Object(y.a)({},e,!n.state[e]))},n}return Object(C.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this,t="localhost"===window.location.hostname?"https://unihearti.b2clogin.com/unihearti.onmicrosoft.com/oauth2/v2.0/authorize?p=B2C_1_tictactoe&client_id=bacb8d3b-6ee0-4443-9bea-b54485a5a20d&nonce=defaultNonce&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fidentified&scope=openid&response_type=id_token&prompt=login":"https://unihearti.b2clogin.com/unihearti.onmicrosoft.com/oauth2/v2.0/authorize?p=B2C_1_tictactoe&client_id=bacb8d3b-6ee0-4443-9bea-b54485a5a20d&nonce=defaultNonce&redirect_uri=https%3A%2F%2Ftictactoe.js.org%2Fidentified&scope=openid&response_type=id_token&prompt=login";return i.a.createElement(We.a,{basename:""},i.a.createElement(L.Provider,{value:this.state},i.a.createElement("div",null,i.a.createElement(m.a,{leftContent:[i.a.createElement(p.a,{key:"1",type:"ellipsis"})],onLeftClick:function(){return e.onDock("docked")},rightContent:[i.a.createElement("a",{href:t,key:"1",style:{width:"22px",height:"22px"},target:"_blank",rel:"noopener noreferrer"},i.a.createElement("img",{src:n(431),alt:"",style:{maxHeight:"22px"}}))]},U.getCurrentCulture().siteName),i.a.createElement(l.a,{className:"my-drawer",style:{minHeight:document.documentElement.clientHeight-45},contentStyle:{textAlign:"center"},sidebarStyle:{border:"1px solid #ddd"},sidebar:i.a.createElement(Ae,{onClicked:function(){return e.onDock("docked")}}),docked:this.state.docked},i.a.createElement(f.a,null,i.a.createElement(Fe.a,{path:"/",exact:!0,component:Ie}),i.a.createElement(Fe.a,{path:"/settings",component:Y}),i.a.createElement(Fe.a,{path:"/alipay-red-package",component:Me}),i.a.createElement(Fe.a,{path:"/support-author",component:Pe}),i.a.createElement(Fe.a,{path:"/identified",component:De}))))))}}]),t}(i.a.Component);c.a.render(i.a.createElement(Ue,null),document.getElementById("root"))},48:function(e,t,n){"use strict";n.r(t),n.d(t,"header",function(){return o}),n.d(t,"subHeader",function(){return i}),n.d(t,"winner",function(){return u}),n.d(t,"weightsOf",function(){return c}),n.d(t,"autoPlay",function(){return s}),n.d(t,"round",function(){return l}),n.d(t,"startLearning",function(){return h}),n.d(t,"sourceCode",function(){return f}),n.d(t,"autoStart",function(){return d}),n.d(t,"humanVsComputer",function(){return m}),n.d(t,"computerVsComputer",function(){return g}),n.d(t,"stats",function(){return p}),n.d(t,"wins",function(){return y}),n.d(t,"fair",function(){return v}),n.d(t,"total",function(){return b}),n.d(t,"showAdvancedSettings",function(){return k}),n.d(t,"siteName",function(){return w}),n.d(t,"chooseLanguage",function(){return C}),n.d(t,"getRound",function(){return E}),n.d(t,"getNextPlayer",function(){return O}),n.d(t,"getMove",function(){return S}),n.d(t,"default",function(){return j});var a=n(11),r=n(41),o="AI version of tic-tac-toe",i="Alpha Go of tic-tac-toe",u="Winner is: ",c="'s Weights: ",s="Auto play ",l="round",h="Start learning",f="Source code: ",d="Auto start (computer-vs-computer mode only)",m="Human vs Computer",g="Computer vs Computer",p="Statistics:",y="Wins",v="Draw",b="Total",k="Show Advanced Settings",w="AI tic tac toe",C="Choose language";function E(e){return"".concat(e,1===e?"st Round":2===e?"nd Round":3===e?"rd Round":"th Round")}function O(e,t){return t<=0?"Your turn.":"It's "+(e?"X":"Computer O")+"'s turn."}function S(e,t,n){if(e){var a=r.a.getRowColumnByIndex(t,n),o=a.col,i=a.row;return"#"+e+" step @ (".concat(o,", ").concat(i,")")}return"Restart"}var j=function e(){Object(a.a)(this,e)};j.siteName=w,j.settings="Settings",j.homepage="Play",j.source="Source Code",j.getRedPackage="Red Package!",j.supportAuthor="Support Author",j.how="How"},61:function(e,t,n){e.exports=n.p+"static/media/alipay-red-package.5cd76bdb.png"},64:function(e,t,n){"use strict";n.r(t),n.d(t,"header",function(){return s}),n.d(t,"subHeader",function(){return l}),n.d(t,"winner",function(){return h}),n.d(t,"weightsOf",function(){return f}),n.d(t,"autoPlay",function(){return d}),n.d(t,"round",function(){return m}),n.d(t,"startLearning",function(){return g}),n.d(t,"sourceCode",function(){return p}),n.d(t,"autoStart",function(){return y}),n.d(t,"humanVsComputer",function(){return v}),n.d(t,"computerVsComputer",function(){return b}),n.d(t,"stats",function(){return k}),n.d(t,"wins",function(){return w}),n.d(t,"fair",function(){return C}),n.d(t,"total",function(){return E}),n.d(t,"showAdvancedSettings",function(){return O}),n.d(t,"siteName",function(){return S}),n.d(t,"chooseLanguage",function(){return j}),n.d(t,"getRound",function(){return x}),n.d(t,"getNextPlayer",function(){return I}),n.d(t,"getMove",function(){return N}),n.d(t,"default",function(){return B});var a=n(11),r=n(15),o=n(14),i=n(16),u=n(41),c=n(48),s="\u4eba\u5de5\u667a\u80fd\u7248\u4e09\u5b50\u68cb",l="\u4e09\u5b50\u68cb\u91cc\u7684\u963f\u5c14\u6cd5\u72d7",h="\u80dc\u5229\u8005\uff1a",f=" \u7684\u6743\u91cd\uff1a",d="\u81ea\u52a8\u5b66\u4e60",m="\u56de\u5408",g="\u5f00\u59cb\u5b66\u4e60",p="\u6e90\u4ee3\u7801\uff1a",y="\u81ea\u52a8\u8fd0\u884c\uff08\u673a-\u673a\u5bf9\u6218\u6a21\u5f0f\uff09",v="\u4eba-\u673a\u5bf9\u6218",b="\u673a-\u673a\u5bf9\u6218",k="\u7edf\u8ba1:",w="\u80dc\u51fa",C="\u5e73\u5c40",E="\u603b\u8ba1",O="\u663e\u793a\u9ad8\u7ea7\u8bbe\u7f6e",S="AI \u4e09\u5b50\u68cb",j="\u9009\u62e9\u8bed\u8a00";function x(e){return"\u7b2c ".concat(e," \u56de\u5408")}function I(e,t){return t<=0?"\u4f60\uff08X\uff09\u5148\u8d70":"\u8f6e\u5230\uff1a"+(e?"\u4f60\uff08X\uff09":"\u7535\u8111\uff08O\uff09")+" \u4e86"}function N(e,t,n){if(e){var a=u.a.getRowColumnByIndex(t,n),r=a.col,o=a.row;return"\u7b2c #"+e+" \u6b65 @ (".concat(r,", ").concat(o,")")}return"\u91cd\u65b0\u5f00\u59cb"}var B=function(e){function t(){return Object(a.a)(this,t),Object(r.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(i.a)(t,e),t}(c.default);B.siteName=S,B.settings="\u8bbe\u7f6e",B.homepage="\u4e3b\u9875",B.source="\u6e90\u4ee3\u7801",B.getRedPackage="\u9886\u7ea2\u5305\uff01",B.supportAuthor="\u6253\u8d4f\u4f5c\u8005",B.how="\u539f\u7406"}},[[188,2,1]]]);
//# sourceMappingURL=main.c4459c04.chunk.js.map